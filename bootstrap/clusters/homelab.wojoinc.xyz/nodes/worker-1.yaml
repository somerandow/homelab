machine:
  certSANs:
    - 127.0.0.1
    - 10.0.0.7
    - 10.4.0.7
  install:
    wipe: true
    diskSelector:
      uuid: 36363530-5481-1345-0025-385300000002
  systemDiskEncryption:
    ephemeral:
      provider: luks2
      cipher: aes-xts-plain64
      keySize: 256
      keys:
        - tpm: { }
          slot: 1
    state:
      provider: luks2
      cipher: aes-xts-plain64
      keySize: 256
      keys:
        - tpm: { }
          slot: 0
  network:
    hostname: worker-1
    searchDomains:
      - wojoinc.xyz
    interfaces:
      - interface: enp87s0
        addresses:
          - 10.0.0.7/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.0.0.1
            metric: 1024
      - interface: enp2s0f0np0
        addresses:
          - 10.4.0.7/16
        mtu: 9000
  udev:
    rules:
      - SUBSYSTEM=="tty", KERNEL=="ttyACM*", GROUP="20", MODE="0660"
---
apiVersion: v1alpha1
kind: VolumeConfig
name: EPHEMERAL
provisioning:
  diskSelector:
    match: disk.uuid == "36363530-5481-1345-0025-385300000002"
  minSize: 50GB
  maxSize: 200GB
  grow: true
---
apiVersion: v1alpha1
kind: EthernetConfig
name: enp2s0f0np0
rings:
  rx: 8160
  tx: 8160
#  tcp-data-split: off
features:
  tx-tcp-ecn-segmentation: on
  tx-ipxip4-segmentation: on
  tx-ipxip6-segmentation: on
  tx-checksum-sctp: on
  rx-ntuple-filter: on
channels:
  combined: 12
