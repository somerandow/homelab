replicaCount: 1
image:
  # -- Image repository
  repository: ghcr.io/homarr-labs/homarr
  # -- Image pull policy
  pullPolicy: IfNotPresent
  # -- Overrides the image tag whose default is the chart appVersion
  tag: "v1.52.0"

env:
  # -- Your local time zone
  TZ: "Europe/Paris"
  # -- Log level to use. Possible values: debug/info/warn/error
  LOG_LEVEL: "info"
  # -- Disables some requests that need internet connection
  NO_EXTERNAL_CONNECTION: "false"
  # -- Enables dns caching. This is not yet working for all users. See #4006
  ENABLE_DNS_CACHING: "false"
  # -- Enabled authentication methods. Multiple providers can be enabled with by separating them with , (ex. AUTH_PROVIDERS=credentials,oidc, it is highly recommended to just enable one provider).
  AUTH_PROVIDERS: "credentials"
  # -- URL to redirect to after clicking logging out.
  AUTH_LOGOUT_REDIRECT_URL:
  # -- Time for the session to time out. Can be set as pure number, which will automatically be used in seconds, or followed by s, m, h or d for seconds, minutes, hours or days. (ex: "30m")
  AUTH_SESSION_EXPIRY_TIME: "30d"
  # -- URI of your LDAP server
  AUTH_LDAP_URI:
  # -- Base dn of your LDAP server
  AUTH_LDAP_BASE:
  # -- User used for finding users and groups
  AUTH_LDAP_BIND_DN:
  # -- Attribute used for username
  AUTH_LDAP_USERNAME_ATTRIBUTE: "uid"
  # -- Attribute used for mail field
  AUTH_LDAP_USER_MAIL_ATTRIBUTE: "mail"
  # -- Class used for querying groups
  AUTH_LDAP_GROUP_CLASS: "groupOfUniqueNames"
  # -- Attribute used for querying group member
  AUTH_LDAP_GROUP_MEMBER_ATTRIBUTE: "member"
  # -- User attribute used for comparing with group member
  AUTH_LDAP_GROUP_MEMBER_USER_ATTRIBUTE: "dn"
  # -- LDAP search scope between base, one or sub
  AUTH_LDAP_SEARCH_SCOPE: "base"
  # -- Extra arguments for user search filter (& based)
  AUTH_LDAP_USERNAME_FILTER_EXTRA_ARG:
  # -- Extra arguments for user's groups search filter (& based)
  AUTH_LDAP_GROUP_FILTER_EXTRA_ARG:
  # -- Issuer URI of OIDC provider without trailing slash (/)
  AUTH_OIDC_ISSUER:
  # -- Display name of provider (in login screen)
  AUTH_OIDC_CLIENT_NAME: "OIDC"
  # -- Automatically redirect to OIDC login
  AUTH_OIDC_AUTO_LOGIN: "false"
  # -- Override the OIDC scopes
  AUTH_OIDC_SCOPE_OVERWRITE: "openid email profile groups"
  # -- Attribute used for groups (roles) claim
  AUTH_OIDC_GROUPS_ATTRIBUTE: "groups"
  # -- Overwrite name attribute. By default, it will use preferred_username if it does not contain a @ and otherwise name.
  AUTH_OIDC_NAME_ATTRIBUTE_OVERWRITE:

database:
  # -- Database type: sqlite, mysql or postgresql
  type: sqlite
  # -- Database migration configuration.
  # DB_MIGRATIONS_DISABLED Set to `true` to disable database migrations.
  # Migrations are enabled by default (`false`).
  migrationEnabled: true

# Sensitive values that need to be passed in through environment variables should use kubernetes secrets. In order
# to use this, create the secret in your target namespace before applying this helm chart. If you really want to,
# you CAN just put these in the env block above, but that is not recommended.
envSecrets:
  # The name of Auth OIDC existing secret
  authOidcCredentials:
    # -- Name of existing secret containing OIDC credentials
    existingSecret: "auth-oidc-secret"
    # -- ID of OIDC client (application) secret key
    oidcClientId: "oidc-client-id"
    # -- Secret of OIDC client (application) secret key
    oidcClientSecret: "oidc-client-secret"
  # The name of Auth LDAP existing secret
  authLdapCredentials:
    # -- Name of existing secret containing LDAP credentials
    existingSecret: "auth-ldap-secret"
    # -- Password for bind user secret key
    ldapBindingPassword: "bind-password"
  # The name of DB Credentials existing secret
  dbCredentials:
    # -- Name of existing secret containing DB credentials
    existingSecret: "db-secret"
    # -- Secret key for DB_URL
    # Example for external database: `mysql://username:password@host:port/homarrdb` or `postgresql://username:password@host:port/homarrdb`
    dbUrlKey: "db-url"
  # The name of DB encryption existing secret
  dbEncryption:
    # -- Name of existing secret containing DB encryption
    existingSecret: "db-encryption"
    # -- Secret key for SECRET_ENCRYPTION_KEY
    # can be generated with `openssl rand -hex 32`
    key: "db-encryption-key"

# -- Secrets for Docker registry
imagePullSecrets: []
# -- Overrides chart's name
nameOverride: ""
# -- Overrides chart's fullname
fullnameOverride: ""

# -- Pod annotations
podAnnotations: {}
# -- Pod labels
podLabels: {}

# -- Pod security context
podSecurityContext: {}
# fsGroup: 2000

# -- Security context
securityContext: {}
#   capabilities:
#     drop:
#     - ALL
#   readOnlyRootFilesystem: true
#   runAsNonRoot: true
#   runAsUser: 1000

# Service configuration
service:
  # -- Enable service
  enabled: true
  # -- Service type
  type: ClusterIP
  ports:
    app:
      # -- Service port
      port: 7575
      # -- Service target port
      targetPort: http
      # -- Service protocol
      protocol: TCP
  # -- Defines how the service assigns IP families (IPv4/IPv6)
  # Possible values:
  # - SingleStack (default): Only one IP family, usually IPv4
  # - PreferDualStack: Use dual-stack if the cluster supports it, fallback to single
  # - RequireDualStack: Fail if dual-stack cannot be assigned
  ipFamilyPolicy: SingleStack
  # -- List of IP families to use for the service.
  # Examples:
  # - ["IPv4"]
  # - ["IPv6"]
  # - ["IPv4", "IPv6"] for dual-stack
  # Leave empty to use cluster default behavior
  ipFamilies: [ ]

livenessProbe:
  # -- Failure threshold for liveness probe - number of consecutive failures before pod is restarted
  failureThreshold: 3
  # -- Initial delay in seconds before the liveness probe starts
  initialDelaySeconds: 10
  # -- Timeout in seconds for each liveness probe check
  timeoutSeconds: 1
  # -- Period in seconds between liveness probe checks
  periodSeconds: 10
  httpGet:
    # -- This is the liveness check endpoint used by Kubernetes to determine if the application is still running.
    path: /api/health/live
    # -- The port on which the liveness check will be performed. This must be the same as the container port exposed by the application.
    port: 7575
    # -- Initial delay before readiness probe is executed. increase this value if the pod is slow to fully start.

readinessProbe:
  # -- Failure threshold for readiness probe - number of consecutive failures before pod is considered unready
  failureThreshold: 3
  # -- Initial delay in seconds before the readiness probe starts. increase this value if the pod is slow to fully start.
  initialDelaySeconds: 10
  # -- Timeout in seconds for each readiness probe check
  timeoutSeconds: 1
  # -- Period in seconds between readiness probe checks
  periodSeconds: 10
  httpGet:
    # -- This is the readiness check endpoint used by Kubernetes to determine if the application is ready to handle traffic.
    path: /api/health/ready
    # -- The port on which the readiness check will be performed. This must match the container's exposed port.
    port: 7575

# -- containerPorts defines the ports to open on the container. It is a map where each entry specifies:
#    - `port`     (int)    (required): The port number to expose inside the container.
#    - `protocol` (string) (required): The network protocol (TCP or UDP) used for the port.
#    - `disabled` (bool)              : Optional flag to disable this port (defaults to false). Can be overridden via Helm values.
#
# By default, this configuration exposes TCP port 7575 with the name `http`.
containerPorts:
  http:
    port: 7575
    protocol: TCP

# -- Gateway API HTTPRoute configuration
httproute:
  # -- Enable HTTPRoute
  enabled: false

  # -- References to the parent Gateway(s) this route attaches to.
  # Each item must include at least a `name`, and optionally a `namespace`.
  parentRefs:
    - name: my-gateway
      namespace: default

  # -- Hostnames this route matches (similar to ingress.hosts.host)
  hostnames:
    - chart-example.local

  # -- List of routing rules.
  # Each rule can include:
  # - matches: path/header/query matching
  # - filters: optional transformations (redirects, header modifications, etc.)
  # - backendRefs: one or more Kubernetes Services to forward traffic to
  rules:
    - matches:
        - path:
            # -- Path match type. One of: Exact, PathPrefix, RegularExpression
            type: PathPrefix
            # -- Path value to match
            value: /
      # -- Optional filters for this rule (default: empty)
      filters: []
      backendRefs:
        - name: homarr
          port: 8080

# Ingress configuration
ingress:
  # -- Enable ingress
  enabled: false
  # -- Ingress class name
  ingressClassName: ""
  # -- Ingress annotations
  annotations: {}
  # kubernetes.io/ingress.class: nginx
  # kubernetes.io/tls-acme: "true"
  # -- Ingress hosts configuration
  hosts:
    - host: chart-example.local
      paths:
        - path: /
  # -- Ingress TLS configuration
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

# -- Resource configuration
resources: {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
#   cpu: 100m
#   memory: 128Mi

# Autoscaling configuration
autoscaling:
  # -- Enable autoscaling
  enabled: false
  # -- Minimum replicas
  minReplicas: 1
  # -- Maximum replicas
  maxReplicas: 100
  # -- Target CPU utilization for autoscaling
  targetCPUUtilizationPercentage: 80
  # -- Target Memory utilization for autoscaling
  # targetMemoryUtilizationPercentage: 80
# -- Additional volumes on the output Deployment definition.

# -- Node selectors for pod scheduling
nodeSelector: {}
# -- Node tolerations for pod scheduling
tolerations: []
# -- Node affinity for pod scheduling
affinity: {}
